<!-- HTML header for doxygen 1.10.0-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Control Surface: CCIncrementDecrementButtons.ino</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
<script type="text/javascript" src="../../darkmode_toggle.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&family=Roboto:wght@400&family=Roboto:wght@500&display=swap" rel="stylesheet">
<link href="../../custom_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Control Surface<span id="projectnumber">&#160;<code><a href="/Control-Surface/">arduino-esp32-3.3.0</a></code></span>
   </div>
   <div id="projectbrief">MIDI Control Surface library for Arduino</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">CCIncrementDecrementButtons.ino</div></div>
</div><!--header-->
<div class="contents">
<h1><a class="anchor" id="ccincrementdecrementbuttons"></a>
CCIncrementDecrementButtons</h1>
<p>This is an example that demonstrates the use of Increment and Decrement buttons that can be used for scrolling through a song list, tuning effects, etc. <br  />
 You can compare it to a rotary encoder, but with two buttons instead of an encoder.</p>
<dl class="section user"><dt>Boards: <b class="boards-info" title="Control Surface&apos;s automated continuous integration workflows regularly verify that this example compiles successfully for the following boards. The list is not exhaustive, and the example will most likely work on other boards as well (perhaps requiring slight modifications).">ðŸ›ˆ</b> </dt><dd>AVR, AVR USB, Nano Every, Due, Nano 33 IoT, Nano 33 BLE, UNO R4, Pi Pico, Teensy 3.x, ESP32, ESP8266</dd></dl>
<h2><a class="anchor" id="connections-6"></a>
Connections</h2>
<ul>
<li>5: momentary push button (to ground)</li>
<li>6: momentary push button (to ground)</li>
</ul>
<p>The internal pull-up resistors for the buttons will be enabled automatically.</p>
<h2><a class="anchor" id="behavior-6"></a>
Behavior</h2>
<ul>
<li>If the button on pin 5 is pressed, a MIDI CC increment message is sent.</li>
<li>If the button on pin 6 is pressed, a MIDI CC decrement message is sent.</li>
<li>The controller number <code><a class="el" href="../../d0/d7e/group__MCU__CC.html#ga9400848eec9735623e1502aef5bb7cb3" title="V-Pot 1 (Relative) (Out)">MCU::V_POT_1</a></code> will be used.</li>
<li>If either of the buttons is pressed down for a longer time, it will keep on sending increment/decrement messages quickly until you release it (like a key on a computer keyboard). This is to make it easier to scroll a large amount, for example. The timing can be changed by tweaking <a class="el" href="../../dc/d69/namespaceAH.html#ae45a88a68c9a82d85febda88f7ecf96d">AH::LONG_PRESS_DELAY</a> and <a class="el" href="../../dc/d69/namespaceAH.html#a4c6482347c7ca829da34491dfb905773">AH::LONG_PRESS_REPEAT_DELAY</a> in <a class="el" href="../../d5/d4f/AH_2Settings_2Settings_8hpp.html">AH/Settings/Settings.hpp</a>.</li>
<li>If both buttons are pressed simultaneously, a MIDI Note On event is sent on note <code><a class="el" href="../../de/d44/group__MCU__Notes.html#gac96af53306661d72c477d7497c4e22da" title="V-Pot select 1 (In/Out)">MCU::V_POT_SELECT_1</a></code>. <br  />
 (This is optional, you can just leave out the final argument to the constructor, and it won't send anything when you press both buttons at once).</li>
<li>The multiplier can be used to increment multiple ticks per each time you press a button. This is useful if you have to press the button for a very long time to get a substantial change.</li>
</ul>
<p>Map the Arduino as a Mackie Control Universal (<a class="el" href="../../d7/dc7/namespaceMCU.html">MCU</a>) or equivalent in your audio software.</p>
<p>Written by PieterP, 2019-01-26 <br  />
 <a href="https://github.com/tttapa/Control-Surface">https://github.com/tttapa/Control-Surface</a></p>
<div class="fragment"><div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../db/dbf/Control__Surface_8h.html">Control_Surface.h</a>&gt;</span> <span class="comment">// Include the Control Surface library</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Instantiate a MIDI over USB interface.</span></div>
<div class="line"><a id="_a0" name="_a0"></a><a class="code hl_class" href="../../de/d05/classUSBMIDI__Interface.html">USBMIDI_Interface</a> midi;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Instantiate a CCIncrementDecrementButtons object</span></div>
<div class="line"><a id="_a1" name="_a1"></a><a class="code hl_class" href="../../d3/d60/classCCIncrementDecrementButtons.html">CCIncrementDecrementButtons</a> buttons {</div>
<div class="line">  {5, 6},              <span class="comment">// Button pins: 5 increments, 6 decrements</span></div>
<div class="line">  <a id="a2" name="a2"></a><a class="code hl_variable" href="../../d0/d7e/group__MCU__CC.html#ga9400848eec9735623e1502aef5bb7cb3">MCU::V_POT_1</a>,        <span class="comment">// Increment/Decrement CC address</span></div>
<div class="line">  1,                   <span class="comment">// Multiplier</span></div>
<div class="line">  <a id="a3" name="a3"></a><a class="code hl_variable" href="../../de/d44/group__MCU__Notes.html#gac96af53306661d72c477d7497c4e22da">MCU::V_POT_SELECT_1</a>, <span class="comment">// Reset note address</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> setup() {</div>
<div class="line">  <span class="comment">// Use the Mackie Control protocol for sending relative MIDI CC messages.</span></div>
<div class="line">  <a id="a4" name="a4"></a><a class="code hl_function" href="../../d3/dd0/classRelativeCCSender.html#a0b9837f163967bb06206d3144de73eb9">RelativeCCSender::setMode</a>(<a id="a5" name="a5"></a><a class="code hl_enumvalue" href="../../d9/d24/RelativeCCSender_8hpp.html#a793b4d05f50a2c3af3ddeeef50e7a71dafb57df7f09c11569e6325f0250664288">MACKIE_CONTROL_RELATIVE</a>);</div>
<div class="line"> </div>
<div class="line">  <a id="a6" name="a6"></a><a class="code hl_variable" href="../../d9/d38/Control__Surface__Class_8cpp.html#af7a5d250297d82b2b29605dd7ac250df">Control_Surface</a>.<a id="a7" name="a7"></a><a class="code hl_function" href="../../dc/d45/classControl__Surface__.html#ab0bdf5cca484fb2ba637c39384b27fb2">begin</a>(); <span class="comment">// Initialize Control Surface</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> loop() {</div>
<div class="line">  <a class="code hl_variable" href="../../d9/d38/Control__Surface__Class_8cpp.html#af7a5d250297d82b2b29605dd7ac250df">Control_Surface</a>.<a id="a8" name="a8"></a><a class="code hl_function" href="../../dc/d45/classControl__Surface__.html#afe461d27b9c48d5921c00d521181f12f">loop</a>(); <span class="comment">// Update the control surface</span></div>
<div class="line">}</div>
<div class="ttc" id="aControl__Surface_8h_html"><div class="ttname"><a href="../../db/dbf/Control__Surface_8h.html">Control_Surface.h</a></div><div class="ttdoc">The main header file that includes all Control-Surface header files.</div></div>
<div class="ttc" id="aControl__Surface__Class_8cpp_html_af7a5d250297d82b2b29605dd7ac250df"><div class="ttname"><a href="../../d9/d38/Control__Surface__Class_8cpp.html#af7a5d250297d82b2b29605dd7ac250df">Control_Surface</a></div><div class="ttdeci">Control_Surface_ &amp; Control_Surface</div><div class="ttdoc">A predefined instance of the Control Surface to use in the Arduino sketches.</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d38/Control__Surface__Class_8cpp_source.html#l00338">Control_Surface_Class.cpp:338</a></div></div>
<div class="ttc" id="aRelativeCCSender_8hpp_html_a793b4d05f50a2c3af3ddeeef50e7a71dafb57df7f09c11569e6325f0250664288"><div class="ttname"><a href="../../d9/d24/RelativeCCSender_8hpp.html#a793b4d05f50a2c3af3ddeeef50e7a71dafb57df7f09c11569e6325f0250664288">MACKIE_CONTROL_RELATIVE</a></div><div class="ttdeci">@ MACKIE_CONTROL_RELATIVE</div><div class="ttdoc">Relative mode used by the Mackie Control Universal protocol.</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d24/RelativeCCSender_8hpp_source.html#l00072">RelativeCCSender.hpp:72</a></div></div>
<div class="ttc" id="aclassCCIncrementDecrementButtons_html"><div class="ttname"><a href="../../d3/d60/classCCIncrementDecrementButtons.html">CCIncrementDecrementButtons</a></div><div class="ttdoc">A class of MIDIOutputElements that read the input of two momentary push buttons to increment or decre...</div><div class="ttdef"><b>Definition</b> <a href="../../d1/de5/CCIncrementDecrementButtons_8hpp_source.html#l00019">CCIncrementDecrementButtons.hpp:21</a></div></div>
<div class="ttc" id="aclassControl__Surface___html_ab0bdf5cca484fb2ba637c39384b27fb2"><div class="ttname"><a href="../../dc/d45/classControl__Surface__.html#ab0bdf5cca484fb2ba637c39384b27fb2">Control_Surface_::begin</a></div><div class="ttdeci">void begin()</div><div class="ttdoc">Initialize the Control_Surface.</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d38/Control__Surface__Class_8cpp_source.html#l00022">Control_Surface_Class.cpp:22</a></div></div>
<div class="ttc" id="aclassControl__Surface___html_afe461d27b9c48d5921c00d521181f12f"><div class="ttname"><a href="../../dc/d45/classControl__Surface__.html#afe461d27b9c48d5921c00d521181f12f">Control_Surface_::loop</a></div><div class="ttdeci">void loop()</div><div class="ttdoc">Update all MIDI elements, send MIDI events and read MIDI input.</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d38/Control__Surface__Class_8cpp_source.html#l00071">Control_Surface_Class.cpp:71</a></div></div>
<div class="ttc" id="aclassRelativeCCSender_html_a0b9837f163967bb06206d3144de73eb9"><div class="ttname"><a href="../../d3/dd0/classRelativeCCSender.html#a0b9837f163967bb06206d3144de73eb9">RelativeCCSender::setMode</a></div><div class="ttdeci">static void setMode(relativeCCmode mode)</div><div class="ttdoc">Set the relative CC mode that's used.</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d24/RelativeCCSender_8hpp_source.html#l00134">RelativeCCSender.hpp:134</a></div></div>
<div class="ttc" id="aclassUSBMIDI__Interface_html"><div class="ttname"><a href="../../de/d05/classUSBMIDI__Interface.html">USBMIDI_Interface</a></div><div class="ttdoc">A class for MIDI interfaces sending MIDI messages over a USB MIDI connection.</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d64/USBMIDI__Interface_8hpp_source.html#l00164">USBMIDI_Interface.hpp:165</a></div></div>
<div class="ttc" id="agroup__MCU__CC_html_ga9400848eec9735623e1502aef5bb7cb3"><div class="ttname"><a href="../../d0/d7e/group__MCU__CC.html#ga9400848eec9735623e1502aef5bb7cb3">MCU::V_POT_1</a></div><div class="ttdeci">constexpr uint8_t V_POT_1</div><div class="ttdoc">V-Pot 1 (Relative) (Out)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d60/MCU_8hpp_source.html#l00166">MCU.hpp:166</a></div></div>
<div class="ttc" id="agroup__MCU__Notes_html_gac96af53306661d72c477d7497c4e22da"><div class="ttname"><a href="../../de/d44/group__MCU__Notes.html#gac96af53306661d72c477d7497c4e22da">MCU::V_POT_SELECT_1</a></div><div class="ttdeci">constexpr uint8_t V_POT_SELECT_1</div><div class="ttdoc">V-Pot select 1 (In/Out)</div><div class="ttdef"><b>Definition</b> <a href="../../db/d60/MCU_8hpp_source.html#l00058">MCU.hpp:58</a></div></div>
</div><!-- fragment --> </div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
