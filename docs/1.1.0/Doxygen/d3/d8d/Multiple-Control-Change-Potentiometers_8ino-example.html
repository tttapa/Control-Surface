<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Control Surface: Multiple-Control-Change-Potentiometers.ino</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/SVG"],
});
</script><script type="text/javascript" async="async" src="/MathJax/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../custom_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Control Surface
   &#160;<span id="projectnumber">1.1.0</span>
   </div>
   <div id="projectbrief">MIDI Control Surface library for Arduino</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Multiple-Control-Change-Potentiometers.ino</div>  </div>
</div><!--header-->
<div class="contents">
<h1><a class="anchor" id="autotoc_md4"></a>
Multiple-Control-Change-Potentiometers</h1>
<p>This example demonstrates the use of MIDI Control Change potentiometers that can be used for changing effect parameters, volumes, pan and balance controls, etc. It can control almost any knob in your DAW software. This example shows how to define multiple potentiometers using an array.</p>
<dl class="section user"><dt>Boards:</dt><dd>AVR, AVR USB, Due, Nano 33, Teensy 3.x</dd></dl>
<h2><a class="anchor" id="autotoc_md5"></a>
Connections</h2>
<ul>
<li>A0: wiper of the first potentiometer</li>
<li>A1: wiper of the second potentiometer</li>
<li>...</li>
<li>A5: wiper of the sixth potentiometer</li>
</ul>
<p>Connect the left terminal of the potentiometers to ground, and the right one to V<sub>CC</sub>.</p>
<h2><a class="anchor" id="autotoc_md6"></a>
Behavior</h2>
<ul>
<li>When you turn a potentiometer, you should receive MIDI Control Change events, with a value between 0 and 127.</li>
<li>The analog inputs are filtered, so there shouldn't be any noise on the position. If there is, check your wiring, and make sure that the resistance of the potentiometers isn't too high (10 kΩ is ideal).</li>
</ul>
<h2><a class="anchor" id="autotoc_md7"></a>
Mapping</h2>
<p>Select the Arduino as a custom MIDI controller in your DAW, and use the MIDI learn option to assign the potentiometers to a function.</p>
<p>Written by PieterP, 2019-08-13 <br  />
 <a href="https://github.com/tttapa/Control-Surface">https://github.com/tttapa/Control-Surface</a></p>
<div class="fragment"><div class="line"><span class="comment">/** </span></div>
<div class="line"><span class="comment"> * This example demonstrates the use of MIDI Control Change potentiometers that</span></div>
<div class="line"><span class="comment"> * can be used for changing effect parameters, volumes, pan and balance</span></div>
<div class="line"><span class="comment"> * controls, etc. It can control almost any knob in your DAW software. </span></div>
<div class="line"><span class="comment"> * This example shows how to define multiple potentiometers using an array.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * @boards  AVR, AVR USB, Due, Nano 33, Teensy 3.x</span></div>
<div class="line"><span class="comment"> * </span></div>
<div class="line"><span class="comment"> * Connections</span></div>
<div class="line"><span class="comment"> * -----------</span></div>
<div class="line"><span class="comment"> * </span></div>
<div class="line"><span class="comment"> * - A0: wiper of the first potentiometer</span></div>
<div class="line"><span class="comment"> * - A1: wiper of the second potentiometer</span></div>
<div class="line"><span class="comment"> * - ...</span></div>
<div class="line"><span class="comment"> * - A5: wiper of the sixth potentiometer</span></div>
<div class="line"><span class="comment"> * </span></div>
<div class="line"><span class="comment"> * Connect the left terminal of the potentiometers to ground, and the right one</span></div>
<div class="line"><span class="comment"> * to V&lt;sub&gt;CC&lt;/sub&gt;.</span></div>
<div class="line"><span class="comment"> * </span></div>
<div class="line"><span class="comment"> * Behavior</span></div>
<div class="line"><span class="comment"> * --------</span></div>
<div class="line"><span class="comment"> * </span></div>
<div class="line"><span class="comment"> * - When you turn a potentiometer, you should receive MIDI Control Change</span></div>
<div class="line"><span class="comment"> *   events, with a value between 0 and 127.</span></div>
<div class="line"><span class="comment"> * - The analog inputs are filtered, so there shouldn&#39;t be any noise on the </span></div>
<div class="line"><span class="comment"> *   position. If there is, check your wiring, and make sure that the resistance</span></div>
<div class="line"><span class="comment"> *   of the potentiometers isn&#39;t too high (10 kΩ is ideal).</span></div>
<div class="line"><span class="comment"> * </span></div>
<div class="line"><span class="comment"> * Mapping</span></div>
<div class="line"><span class="comment"> * -------</span></div>
<div class="line"><span class="comment"> * </span></div>
<div class="line"><span class="comment"> * Select the Arduino as a custom MIDI controller in your DAW, and use the </span></div>
<div class="line"><span class="comment"> * MIDI learn option to assign the potentiometers to a function.</span></div>
<div class="line"><span class="comment"> * </span></div>
<div class="line"><span class="comment"> * Written by PieterP, 2019-08-13  </span></div>
<div class="line"><span class="comment"> * https://github.com/tttapa/Control-Surface</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../db/dbf/Control__Surface_8h.html">Control_Surface.h</a>&gt;</span> <span class="comment">// Include the Control Surface library</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Instantiate a MIDI over USB interface.</span></div>
<div class="line"><a name="_a0"></a><a class="code" href="../../de/d05/classUSBMIDI__Interface.html">USBMIDI_Interface</a> midi;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Instantiate an array of CCPotentiometer objects</span></div>
<div class="line"><a name="_a1"></a><a class="code" href="../../db/d32/classCCPotentiometer.html">CCPotentiometer</a> potentiometers[] = {</div>
<div class="line">  {A0,        <span class="comment">// Analog pin connected to potentiometer 1</span></div>
<div class="line">   0x10},     <span class="comment">// Controller number of the first potentiometer</span></div>
<div class="line">  {A1,        <span class="comment">// Analog pin connected to potentiometer 2</span></div>
<div class="line">   0x11},     <span class="comment">// Controller number of the second potentiometer</span></div>
<div class="line">  {A2, 0x12}, <span class="comment">// Etc.</span></div>
<div class="line">  {A3, 0x13},</div>
<div class="line">  {A4, 0x14},</div>
<div class="line">  {A5, 0x15},</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> setup() {</div>
<div class="line">  <a name="a2"></a><a class="code" href="../../d9/d38/Control__Surface__Class_8cpp.html#af7a5d250297d82b2b29605dd7ac250df">Control_Surface</a>.<a name="a3"></a><a class="code" href="../../dc/d45/classControl__Surface__.html#a1fda63983d83a8be20302e9fef48f63e">begin</a>(); <span class="comment">// Initialize Control Surface</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> loop() {</div>
<div class="line">  <a class="code" href="../../d9/d38/Control__Surface__Class_8cpp.html#af7a5d250297d82b2b29605dd7ac250df">Control_Surface</a>.<a name="a4"></a><a class="code" href="../../dc/d45/classControl__Surface__.html#a69fd0ae13604c39d6dc0da12fc94a18f">loop</a>(); <span class="comment">// Update the Control Surface</span></div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->
<div class="ttc" id="aclassUSBMIDI__Interface_html"><div class="ttname"><a href="../../de/d05/classUSBMIDI__Interface.html">USBMIDI_Interface</a></div><div class="ttdoc">A class for MIDI interfaces sending MIDI messages over a USB MIDI connection.</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d64/USBMIDI__Interface_8hpp_source.html#l00043">USBMIDI_Interface.hpp:43</a></div></div>
<div class="ttc" id="aControl__Surface_8h_html"><div class="ttname"><a href="../../db/dbf/Control__Surface_8h.html">Control_Surface.h</a></div><div class="ttdoc">The main header file that includes all Control-Surface header files.</div></div>
<div class="ttc" id="aControl__Surface__Class_8cpp_html_af7a5d250297d82b2b29605dd7ac250df"><div class="ttname"><a href="../../d9/d38/Control__Surface__Class_8cpp.html#af7a5d250297d82b2b29605dd7ac250df">Control_Surface</a></div><div class="ttdeci">Control_Surface_ &amp; Control_Surface</div><div class="ttdoc">A predefined instance of the Control Surface to use in the Arduino sketches.</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d38/Control__Surface__Class_8cpp_source.html#l00174">Control_Surface_Class.cpp:174</a></div></div>
<div class="ttc" id="aclassCCPotentiometer_html"><div class="ttname"><a href="../../db/d32/classCCPotentiometer.html">CCPotentiometer</a></div><div class="ttdoc">A class of MIDIOutputElements that read the analog input from a potentiometer or fader,...</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/df0/CCPotentiometer_8hpp_source.html#l00019">CCPotentiometer.hpp:19</a></div></div>
<div class="ttc" id="aclassControl__Surface___html_a1fda63983d83a8be20302e9fef48f63e"><div class="ttname"><a href="../../dc/d45/classControl__Surface__.html#a1fda63983d83a8be20302e9fef48f63e">Control_Surface_::begin</a></div><div class="ttdeci">void begin()</div><div class="ttdoc">Initialize the Control_Surface.</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d38/Control__Surface__Class_8cpp_source.html#l00025">Control_Surface_Class.cpp:25</a></div></div>
<div class="ttc" id="aclassControl__Surface___html_a69fd0ae13604c39d6dc0da12fc94a18f"><div class="ttname"><a href="../../dc/d45/classControl__Surface__.html#a69fd0ae13604c39d6dc0da12fc94a18f">Control_Surface_::loop</a></div><div class="ttdeci">void loop()</div><div class="ttdoc">Update all MIDI elements, send MIDI events and read MIDI input.</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d38/Control__Surface__Class_8cpp_source.html#l00048">Control_Surface_Class.cpp:48</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
